{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { SET_FILTERS, UPDATE_FILTERS } from \"../consts\";\nimport arraysEqual from \"../../utils/arrayEquals\";\nexport var setFilters = function setFilters(filters) {\n  return function (dispatch) {\n    try {\n      dispatch({\n        type: SET_FILTERS,\n        payload: filters\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\nexport var updateFilters = function updateFilters(filters) {\n  return function (dispatch, getState) {\n    try {\n      var _prevFilters$price, _filters$price, _prevFilters$price2, _filters$price2, _prevFilters$discount, _filters$discount, _prevFilters$discount2, _filters$discount2;\n\n      var _getState = getState(),\n          prevFilters = _getState.filters;\n\n      var newReq = false;\n      if (filters.page === 1) newReq = true;\n      if ((prevFilters == null ? void 0 : prevFilters.query) !== (filters == null ? void 0 : filters.query)) newReq = true;\n      if ((prevFilters == null ? void 0 : prevFilters.onSale) !== (filters == null ? void 0 : filters.onSale)) newReq = true;\n      if ((prevFilters == null ? void 0 : prevFilters.leastRating) !== (filters == null ? void 0 : filters.leastRating)) newReq = true;\n      if ((prevFilters == null ? void 0 : (_prevFilters$price = prevFilters.price) == null ? void 0 : _prevFilters$price[0]) !== (filters == null ? void 0 : (_filters$price = filters.price) == null ? void 0 : _filters$price[0])) newReq = true;\n      if ((prevFilters == null ? void 0 : (_prevFilters$price2 = prevFilters.price) == null ? void 0 : _prevFilters$price2[1]) !== (filters == null ? void 0 : (_filters$price2 = filters.price) == null ? void 0 : _filters$price2[1])) newReq = true;\n      if ((prevFilters == null ? void 0 : (_prevFilters$discount = prevFilters.discount) == null ? void 0 : _prevFilters$discount[0]) !== (filters == null ? void 0 : (_filters$discount = filters.discount) == null ? void 0 : _filters$discount[0])) newReq = true;\n      if ((prevFilters == null ? void 0 : (_prevFilters$discount2 = prevFilters.discount) == null ? void 0 : _prevFilters$discount2[1]) !== (filters == null ? void 0 : (_filters$discount2 = filters.discount) == null ? void 0 : _filters$discount2[1])) newReq = true;\n      if (!arraysEqual(prevFilters == null ? void 0 : prevFilters.sellers, filters == null ? void 0 : filters.sellers)) newReq = true;\n      if (!arraysEqual(prevFilters == null ? void 0 : prevFilters.categories, filters == null ? void 0 : filters.categories)) newReq = true;\n      if (!arraysEqual(prevFilters == null ? void 0 : prevFilters.sort, filters == null ? void 0 : filters.sort)) newReq = true;\n      if (newReq) filters.page = 1;\n      dispatch({\n        type: UPDATE_FILTERS,\n        payload: _objectSpread(_objectSpread({}, filters), {}, {\n          newReq: newReq\n        })\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};","map":{"version":3,"names":["SET_FILTERS","UPDATE_FILTERS","arraysEqual","setFilters","filters","dispatch","type","payload","err","console","log","updateFilters","getState","prevFilters","newReq","page","query","onSale","leastRating","price","discount","sellers","categories","sort"],"sources":["C:/Users/DANIALSYED/OneDrive/Documents/GitHub/PriceGetterNative/redux/actions/filterActions.js"],"sourcesContent":["import { SET_FILTERS, UPDATE_FILTERS } from '../consts';\r\nimport arraysEqual from '../../utils/arrayEquals';\r\n\r\nexport const setFilters = filters => dispatch => {\r\n  try {\r\n    dispatch({\r\n      type: SET_FILTERS,\r\n      payload: filters,\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const updateFilters = filters => (dispatch, getState) => {\r\n  try {\r\n    const { filters: prevFilters } = getState();\r\n\r\n    let newReq = false;\r\n\r\n    if (filters.page === 1) newReq = true;\r\n    if (prevFilters?.query !== filters?.query) newReq = true;\r\n    if (prevFilters?.onSale !== filters?.onSale) newReq = true;\r\n    if (prevFilters?.leastRating !== filters?.leastRating) newReq = true;\r\n    if (prevFilters?.price?.[0] !== filters?.price?.[0]) newReq = true;\r\n    if (prevFilters?.price?.[1] !== filters?.price?.[1]) newReq = true;\r\n    if (prevFilters?.discount?.[0] !== filters?.discount?.[0]) newReq = true;\r\n    if (prevFilters?.discount?.[1] !== filters?.discount?.[1]) newReq = true;\r\n    if (!arraysEqual(prevFilters?.sellers, filters?.sellers)) newReq = true;\r\n    if (!arraysEqual(prevFilters?.categories, filters?.categories))\r\n      newReq = true;\r\n    if (!arraysEqual(prevFilters?.sort, filters?.sort)) newReq = true;\r\n\r\n    if (newReq) filters.page = 1;\r\n\r\n    dispatch({\r\n      type: UPDATE_FILTERS,\r\n      payload: { ...filters, newReq },\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}