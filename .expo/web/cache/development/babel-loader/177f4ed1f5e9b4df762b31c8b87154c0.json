{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FontAwesome from \"@expo/vector-icons/FontAwesome\";\nimport { useNavigation } from '@react-navigation/native';\nimport { COLORS, isImage } from \"../../../utils\";\nimport styles from \"./styles\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar Product = function Product(_ref) {\n  var _images, _images2, _images3, _images3$, _images4, _images4$;\n\n  var _ref$product = _ref.product,\n      _id = _ref$product._id,\n      name = _ref$product.name,\n      price = _ref$product.price,\n      discount = _ref$product.discount,\n      images = _ref$product.images,\n      stock = _ref$product.stock;\n  var isAvailable = stock === 'In Stock' || stock > 0;\n  var color = isAvailable ? COLORS.green : COLORS.red;\n  var navigation = useNavigation();\n  images = (_images = images) == null ? void 0 : _images.filter(function (img) {\n    return isImage(img.url);\n  });\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isFavourite = _useState2[0],\n      setIsFavourite = _useState2[1];\n\n  var handleFavourite = function handleFavourite() {\n    setIsFavourite(!isFavourite);\n  };\n\n  return _jsxs(TouchableOpacity, {\n    style: styles.container,\n    onPress: function onPress() {\n      return navigation.navigate('Product Details', {\n        id: _id\n      });\n    },\n    children: [_jsxs(View, {\n      style: styles.imageContainer,\n      children: [discount > 0 && _jsx(View, {\n        style: styles.discount,\n        children: _jsxs(Text, {\n          style: styles.discountText,\n          children: [Math.round(discount), \"%\"]\n        })\n      }), _jsx(TouchableOpacity, {\n        style: styles.seller,\n        onPress: handleFavourite,\n        children: _jsx(FontAwesome, {\n          style: styles.heartIcon,\n          name: isFavourite ? 'heart' : 'heart-0'\n        })\n      }), ((_images2 = images) == null ? void 0 : _images2.length) > 0 && ((_images3 = images) == null ? void 0 : (_images3$ = _images3[0]) == null ? void 0 : _images3$.url) && _jsx(Image, {\n        style: styles.image,\n        source: {\n          uri: (_images4 = images) == null ? void 0 : (_images4$ = _images4[0]) == null ? void 0 : _images4$.url\n        }\n      })]\n    }), _jsx(Text, {\n      style: styles.name,\n      children: name == null ? void 0 : name.replace(/^(.{15}[^\\s]*).*/, '$1')\n    }), _jsxs(View, {\n      style: styles.stockContainer,\n      children: [_jsx(FontAwesome, {\n        style: [styles.stockIcon, {\n          color: color\n        }],\n        name: \"circle\"\n      }), _jsx(Text, {\n        style: [styles.stock, {\n          color: color\n        }],\n        children: isAvailable ? ' In Stock' : ' Out of Stock'\n      })]\n    }), _jsxs(Text, {\n      style: styles.price,\n      children: [\"Rs. \", price]\n    })]\n  });\n};\n\nexport default Product;","map":{"version":3,"names":["React","useState","FontAwesome","useNavigation","COLORS","isImage","styles","Product","product","_id","name","price","discount","images","stock","isAvailable","color","green","red","navigation","filter","img","url","isFavourite","setIsFavourite","handleFavourite","container","navigate","id","imageContainer","discountText","Math","round","seller","heartIcon","length","image","uri","replace","stockContainer","stockIcon"],"sources":["C:/Users/DANIALSYED/OneDrive/Documents/GitHub/PriceGetterNative/components/products/Product/index.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { View, Text, TouchableOpacity, Image } from 'react-native';\r\nimport FontAwesome from 'react-native-vector-icons/FontAwesome';\r\nimport { useNavigation } from '@react-navigation/native';\r\n\r\nimport { COLORS, isImage } from '../../../utils';\r\n\r\nimport styles from './styles';\r\n\r\nconst Product = ({\r\n  product: { _id, name, price, discount, images, stock },\r\n}) => {\r\n  const isAvailable = stock === 'In Stock' || stock > 0;\r\n  const color = isAvailable ? COLORS.green : COLORS.red;\r\n\r\n  const navigation = useNavigation();\r\n\r\n  images = images?.filter(img => isImage(img.url));\r\n\r\n  const [isFavourite, setIsFavourite] = useState(false);\r\n\r\n  const handleFavourite = () => {\r\n    setIsFavourite(!isFavourite);\r\n  };\r\n\r\n  return (\r\n    <TouchableOpacity\r\n      style={styles.container}\r\n      onPress={() => navigation.navigate('Product Details', { id: _id })}\r\n    >\r\n      <View style={styles.imageContainer}>\r\n        {discount > 0 && (\r\n          <View style={styles.discount}>\r\n            <Text style={styles.discountText}>{Math.round(discount)}%</Text>\r\n          </View>\r\n        )}\r\n        <TouchableOpacity style={styles.seller} onPress={handleFavourite}>\r\n          <FontAwesome\r\n            style={styles.heartIcon}\r\n            name={isFavourite ? 'heart' : 'heart-0'}\r\n          />\r\n        </TouchableOpacity>\r\n\r\n        {images?.length > 0 && images?.[0]?.url && (\r\n          <Image style={styles.image} source={{ uri: images?.[0]?.url }} />\r\n        )}\r\n      </View>\r\n\r\n      <Text style={styles.name}>{name?.replace(/^(.{15}[^\\s]*).*/, '$1')}</Text>\r\n\r\n      <View style={styles.stockContainer}>\r\n        <FontAwesome style={[styles.stockIcon, { color }]} name=\"circle\" />\r\n        <Text style={[styles.stock, { color }]}>\r\n          {isAvailable ? ' In Stock' : ' Out of Stock'}\r\n        </Text>\r\n      </View>\r\n      <Text style={styles.price}>Rs. {price}</Text>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}