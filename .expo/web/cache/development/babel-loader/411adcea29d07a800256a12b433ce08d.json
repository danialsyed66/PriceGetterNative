{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FontAwesome from \"@expo/vector-icons/FontAwesome\";\nimport { useNavigation } from '@react-navigation/native';\nimport { COLORS, isImage, openUrl } from \"../../../utils\";\nimport styles from \"./styles\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar Product = function Product(_ref) {\n  var _images, _images2, _images3, _images3$, _images4, _images4$, _seller$logo, _seller$logo2;\n\n  var _ref$product = _ref.product,\n      _id = _ref$product._id,\n      name = _ref$product.name,\n      price = _ref$product.price,\n      discount = _ref$product.discount,\n      images = _ref$product.images,\n      stock = _ref$product.stock,\n      seller = _ref$product.seller,\n      url = _ref$product.url;\n  var isAvailable = stock === 'In Stock' || stock > 0;\n  var color = isAvailable ? COLORS.green : COLORS.red;\n\n  var _useNavigation = useNavigation(),\n      navigate = _useNavigation.navigate;\n\n  images = (_images = images) == null ? void 0 : _images.filter(function (img) {\n    return isImage(img.url);\n  });\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isFavourite = _useState2[0],\n      setIsFavourite = _useState2[1];\n\n  var handleFavourite = function handleFavourite() {\n    setIsFavourite(!isFavourite);\n  };\n\n  return _jsxs(TouchableOpacity, {\n    style: styles.container,\n    onPress: function onPress() {\n      return navigate('Product Details', {\n        id: _id\n      });\n    },\n    children: [_jsxs(View, {\n      style: styles.imageContainer,\n      children: [discount > 0 && _jsx(View, {\n        style: styles.discount,\n        children: _jsxs(Text, {\n          style: styles.discountText,\n          children: [Math.round(discount), \"%\"]\n        })\n      }), _jsx(TouchableOpacity, {\n        style: styles.heartContainer,\n        onPress: handleFavourite,\n        children: _jsx(FontAwesome, {\n          style: styles.heartIcon,\n          name: isFavourite ? 'heart' : 'heart-o'\n        })\n      }), ((_images2 = images) == null ? void 0 : _images2.length) > 0 && ((_images3 = images) == null ? void 0 : (_images3$ = _images3[0]) == null ? void 0 : _images3$.url) && _jsx(Image, {\n        style: styles.image,\n        source: {\n          uri: (_images4 = images) == null ? void 0 : (_images4$ = _images4[0]) == null ? void 0 : _images4$.url\n        }\n      })]\n    }), _jsx(Text, {\n      style: styles.name,\n      children: name == null ? void 0 : name.replace(/^(.{15}[^\\s]*).*/, '$1')\n    }), _jsxs(View, {\n      style: styles.infoSeller,\n      children: [_jsxs(View, {\n        style: styles.info,\n        children: [_jsxs(View, {\n          style: styles.stockContainer,\n          children: [_jsx(FontAwesome, {\n            style: [styles.stockIcon, {\n              color: color\n            }],\n            name: \"circle\"\n          }), _jsx(Text, {\n            style: [styles.stock, {\n              color: color\n            }],\n            children: isAvailable ? ' In Stock' : ' Out of Stock'\n          })]\n        }), _jsxs(Text, {\n          style: styles.price,\n          children: [\"Rs. \", price]\n        })]\n      }), _jsx(TouchableOpacity, {\n        style: styles.seller,\n        onPress: function onPress() {\n          return openUrl(url || \"https://price-getter.netlify.app/product/\" + _id);\n        },\n        children: isImage(seller == null ? void 0 : (_seller$logo = seller.logo) == null ? void 0 : _seller$logo.url) && _jsx(Image, {\n          style: styles.sellerImage,\n          source: {\n            uri: seller == null ? void 0 : (_seller$logo2 = seller.logo) == null ? void 0 : _seller$logo2.url\n          }\n        })\n      })]\n    })]\n  });\n};\n\nexport default Product;","map":{"version":3,"names":["React","useState","FontAwesome","useNavigation","COLORS","isImage","openUrl","styles","Product","product","_id","name","price","discount","images","stock","seller","url","isAvailable","color","green","red","navigate","filter","img","isFavourite","setIsFavourite","handleFavourite","container","id","imageContainer","discountText","Math","round","heartContainer","heartIcon","length","image","uri","replace","infoSeller","info","stockContainer","stockIcon","logo","sellerImage"],"sources":["C:/Users/DANIALSYED/OneDrive/Documents/GitHub/PriceGetterNative/components/products/Product/index.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { View, Text, TouchableOpacity, Image } from 'react-native';\r\nimport FontAwesome from 'react-native-vector-icons/FontAwesome';\r\nimport { useNavigation } from '@react-navigation/native';\r\n\r\nimport { COLORS, isImage, openUrl } from '../../../utils';\r\n\r\nimport styles from './styles';\r\n\r\nconst Product = ({\r\n  product: { _id, name, price, discount, images, stock, seller, url },\r\n}) => {\r\n  const isAvailable = stock === 'In Stock' || stock > 0;\r\n  const color = isAvailable ? COLORS.green : COLORS.red;\r\n\r\n  const { navigate } = useNavigation();\r\n\r\n  images = images?.filter(img => isImage(img.url));\r\n\r\n  const [isFavourite, setIsFavourite] = useState(false);\r\n\r\n  const handleFavourite = () => {\r\n    setIsFavourite(!isFavourite);\r\n  };\r\n\r\n  return (\r\n    <TouchableOpacity\r\n      style={styles.container}\r\n      onPress={() => navigate('Product Details', { id: _id })}\r\n    >\r\n      <View style={styles.imageContainer}>\r\n        {discount > 0 && (\r\n          <View style={styles.discount}>\r\n            <Text style={styles.discountText}>{Math.round(discount)}%</Text>\r\n          </View>\r\n        )}\r\n        <TouchableOpacity\r\n          style={styles.heartContainer}\r\n          onPress={handleFavourite}\r\n        >\r\n          <FontAwesome\r\n            style={styles.heartIcon}\r\n            name={isFavourite ? 'heart' : 'heart-o'}\r\n          />\r\n        </TouchableOpacity>\r\n\r\n        {images?.length > 0 && images?.[0]?.url && (\r\n          <Image style={styles.image} source={{ uri: images?.[0]?.url }} />\r\n        )}\r\n      </View>\r\n\r\n      <Text style={styles.name}>{name?.replace(/^(.{15}[^\\s]*).*/, '$1')}</Text>\r\n\r\n      <View style={styles.infoSeller}>\r\n        <View style={styles.info}>\r\n          <View style={styles.stockContainer}>\r\n            <FontAwesome style={[styles.stockIcon, { color }]} name=\"circle\" />\r\n            <Text style={[styles.stock, { color }]}>\r\n              {isAvailable ? ' In Stock' : ' Out of Stock'}\r\n            </Text>\r\n          </View>\r\n\r\n          <Text style={styles.price}>Rs. {price}</Text>\r\n        </View>\r\n\r\n        <TouchableOpacity\r\n          style={styles.seller}\r\n          onPress={() =>\r\n            openUrl(url || `https://price-getter.netlify.app/product/${_id}`)\r\n          }\r\n        >\r\n          {isImage(seller?.logo?.url) && (\r\n            <Image\r\n              style={styles.sellerImage}\r\n              source={{ uri: seller?.logo?.url }}\r\n            />\r\n          )}\r\n        </TouchableOpacity>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}