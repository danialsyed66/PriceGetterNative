{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { INIT, ADD_TO_CART, REMOVE_FROM_CART, UPDATE_CART, SAVE_SHIPPING_INFO } from \"../consts\";\n\nvar reducer = function reducer() {\n  var _state$cartItems, _state$cartItems2, _state$cartItems3, _state$cartItems4;\n\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    cartItems: [],\n    shippingInfo: {}\n  };\n\n  var _ref = arguments.length > 1 ? arguments[1] : undefined,\n      type = _ref.type,\n      payload = _ref.payload;\n\n  switch (type) {\n    case INIT:\n      return _objectSpread(_objectSpread({}, state), payload);\n\n    case ADD_TO_CART:\n      var isInCart = (_state$cartItems = state.cartItems) == null ? void 0 : _state$cartItems.find(function (item) {\n        return item._id === payload._id;\n      });\n      if (!isInCart) return _objectSpread(_objectSpread({}, state), {}, {\n        cartItems: [].concat(_toConsumableArray(state.cartItems), [payload])\n      });\n      return _objectSpread(_objectSpread({}, state), {}, {\n        cartItems: (_state$cartItems2 = state.cartItems) == null ? void 0 : _state$cartItems2.map(function (item) {\n          return item._id === payload._id ? payload : item;\n        })\n      });\n\n    case REMOVE_FROM_CART:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        cartItems: (_state$cartItems3 = state.cartItems) == null ? void 0 : _state$cartItems3.filter(function (item) {\n          return item._id !== payload;\n        })\n      });\n\n    case UPDATE_CART:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        cartItems: (_state$cartItems4 = state.cartItems) == null ? void 0 : _state$cartItems4.map(function (item) {\n          return item._id === payload.id ? _objectSpread(_objectSpread({}, item), {}, {\n            quantity: payload.quantity\n          }) : item;\n        })\n      });\n\n    case SAVE_SHIPPING_INFO:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        shippingInfo: payload\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"names":["INIT","ADD_TO_CART","REMOVE_FROM_CART","UPDATE_CART","SAVE_SHIPPING_INFO","reducer","state","cartItems","shippingInfo","type","payload","isInCart","find","item","_id","map","filter","id","quantity"],"sources":["C:/Users/DANIALSYED/OneDrive/Documents/GitHub/PriceGetterNative/redux/reducers/cartReducer.js"],"sourcesContent":["import {\r\n  INIT,\r\n  ADD_TO_CART,\r\n  REMOVE_FROM_CART,\r\n  UPDATE_CART,\r\n  SAVE_SHIPPING_INFO,\r\n} from '../consts';\r\n\r\nconst reducer = (\r\n  state = { cartItems: [], shippingInfo: {} },\r\n  { type, payload }\r\n) => {\r\n  switch (type) {\r\n    case INIT:\r\n      return { ...state, ...payload };\r\n\r\n    case ADD_TO_CART:\r\n      const isInCart = state.cartItems?.find(item => item._id === payload._id);\r\n\r\n      if (!isInCart)\r\n        return { ...state, cartItems: [...state.cartItems, payload] };\r\n\r\n      return {\r\n        ...state,\r\n        cartItems: state.cartItems?.map(item =>\r\n          item._id === payload._id ? payload : item\r\n        ),\r\n      };\r\n\r\n    case REMOVE_FROM_CART:\r\n      return {\r\n        ...state,\r\n        cartItems: state.cartItems?.filter(item => item._id !== payload),\r\n      };\r\n\r\n    case UPDATE_CART:\r\n      return {\r\n        ...state,\r\n        cartItems: state.cartItems?.map(item =>\r\n          item._id === payload.id\r\n            ? { ...item, quantity: payload.quantity }\r\n            : item\r\n        ),\r\n      };\r\n\r\n    case SAVE_SHIPPING_INFO:\r\n      return {\r\n        ...state,\r\n        shippingInfo: payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n"],"mappings":";;;;;;;AAAA,SACEA,IADF,EAEEC,WAFF,EAGEC,gBAHF,EAIEC,WAJF,EAKEC,kBALF;;AAQA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAGX;EAAA;;EAAA,IAFHC,KAEG,uEAFK;IAAEC,SAAS,EAAE,EAAb;IAAiBC,YAAY,EAAE;EAA/B,CAEL;;EAAA;EAAA,IADDC,IACC,QADDA,IACC;EAAA,IADKC,OACL,QADKA,OACL;;EACH,QAAQD,IAAR;IACE,KAAKT,IAAL;MACE,uCAAYM,KAAZ,GAAsBI,OAAtB;;IAEF,KAAKT,WAAL;MACE,IAAMU,QAAQ,uBAAGL,KAAK,CAACC,SAAT,qBAAG,iBAAiBK,IAAjB,CAAsB,UAAAC,IAAI;QAAA,OAAIA,IAAI,CAACC,GAAL,KAAaJ,OAAO,CAACI,GAAzB;MAAA,CAA1B,CAAjB;MAEA,IAAI,CAACH,QAAL,EACE,uCAAYL,KAAZ;QAAmBC,SAAS,+BAAMD,KAAK,CAACC,SAAZ,IAAuBG,OAAvB;MAA5B;MAEF,uCACKJ,KADL;QAEEC,SAAS,uBAAED,KAAK,CAACC,SAAR,qBAAE,kBAAiBQ,GAAjB,CAAqB,UAAAF,IAAI;UAAA,OAClCA,IAAI,CAACC,GAAL,KAAaJ,OAAO,CAACI,GAArB,GAA2BJ,OAA3B,GAAqCG,IADH;QAAA,CAAzB;MAFb;;IAOF,KAAKX,gBAAL;MACE,uCACKI,KADL;QAEEC,SAAS,uBAAED,KAAK,CAACC,SAAR,qBAAE,kBAAiBS,MAAjB,CAAwB,UAAAH,IAAI;UAAA,OAAIA,IAAI,CAACC,GAAL,KAAaJ,OAAjB;QAAA,CAA5B;MAFb;;IAKF,KAAKP,WAAL;MACE,uCACKG,KADL;QAEEC,SAAS,uBAAED,KAAK,CAACC,SAAR,qBAAE,kBAAiBQ,GAAjB,CAAqB,UAAAF,IAAI;UAAA,OAClCA,IAAI,CAACC,GAAL,KAAaJ,OAAO,CAACO,EAArB,mCACSJ,IADT;YACeK,QAAQ,EAAER,OAAO,CAACQ;UADjC,KAEIL,IAH8B;QAAA,CAAzB;MAFb;;IASF,KAAKT,kBAAL;MACE,uCACKE,KADL;QAEEE,YAAY,EAAEE;MAFhB;;IAKF;MACE,OAAOJ,KAAP;EAxCJ;AA0CD,CA9CD;;AAgDA,eAAeD,OAAf"},"metadata":{},"sourceType":"module"}