{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport Entypo from \"@expo/vector-icons/Entypo\";\nimport Ionicons from \"@expo/vector-icons/Ionicons\";\nimport asyncStorage from '@react-native-async-storage/async-storage';\nimport styles from \"./styles\";\nimport { Items } from \"../../../database/Database\";\nimport { ImageCarousel, BottomButton } from \"../../../components\";\nimport { alert } from \"../../../utils\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar ProductDetails = function ProductDetails() {\n  var id = useRoute().params.id;\n  var navigation = useNavigation();\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      product = _useState2[0],\n      setProduct = _useState2[1];\n\n  var addToCart = function _callee(id) {\n    var cartString, cart;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(asyncStorage.getItem('cart'));\n\n          case 3:\n            cartString = _context.sent;\n            cart = JSON.parse(cartString || '[]');\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(asyncStorage.setItem('cart', JSON.stringify(_toConsumableArray(new Set([].concat(_toConsumableArray(cart), [id]))))));\n\n          case 7:\n            navigation.navigate('Cart');\n            _context.next = 14;\n            break;\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n            alert('Error', 'Could not add to cart.');\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 10]], Promise);\n  };\n\n  useEffect(function () {\n    navigation.addListener('focus', function () {\n      return setProduct(Items.find(function (item) {\n        return item.id === id;\n      }));\n    });\n  }, [navigation]);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(StatusBar, {\n      style: styles.statusBar\n    }), _jsxs(ScrollView, {\n      showsVerticalScrollIndicator: false,\n      children: [_jsx(ImageCarousel, {\n        items: product == null ? void 0 : product.productImageList\n      }), _jsxs(View, {\n        style: styles.scrollViewContainer,\n        children: [_jsxs(View, {\n          style: styles.cartContainer,\n          children: [_jsx(Entypo, {\n            style: styles.cartIcon,\n            name: \"shopping-cart\"\n          }), _jsx(Text, {\n            style: styles.cartText,\n            children: \"Shopping\"\n          })]\n        }), _jsxs(View, {\n          style: styles.title,\n          children: [_jsx(Text, {\n            style: styles.titleText,\n            children: product == null ? void 0 : product.productName\n          }), _jsx(Ionicons, {\n            style: styles.titleIcon,\n            name: \"link-outline\"\n          })]\n        }), _jsx(Text, {\n          style: styles.description,\n          children: product == null ? void 0 : product.description\n        }), _jsxs(View, {\n          style: styles.locationContainer,\n          children: [_jsxs(View, {\n            style: styles.locationIconContainer,\n            children: [_jsx(View, {\n              style: styles.locationIconContainer2,\n              children: _jsx(Entypo, {\n                style: styles.locationIcon,\n                name: \"location-pin\"\n              })\n            }), _jsxs(Text, {\n              children: [\"Rustaveli Ave 57,\", '\\n', \"17-001, Batume\"]\n            })]\n          }), _jsx(Entypo, {\n            style: styles.rightIcon,\n            name: \"chevron-right\"\n          })]\n        }), _jsx(View, {\n          style: styles.priceContainer,\n          children: _jsxs(Text, {\n            style: styles.priceText,\n            children: [\"Rs. \", product.productPrice]\n          })\n        })]\n      })]\n    }), _jsx(BottomButton, {\n      onPress: function onPress() {\n        return product.isAvailable ? addToCart(product.id) : null;\n      },\n      text: product.isAvailable ? 'Add to cart' : 'Not Avialable'\n    })]\n  });\n};\n\nexport default ProductDetails;","map":{"version":3,"names":["React","useEffect","useState","useNavigation","useRoute","Entypo","Ionicons","asyncStorage","styles","Items","ImageCarousel","BottomButton","alert","ProductDetails","id","params","navigation","product","setProduct","addToCart","getItem","cartString","cart","JSON","parse","setItem","stringify","Set","navigate","console","log","addListener","find","item","container","statusBar","productImageList","scrollViewContainer","cartContainer","cartIcon","cartText","title","titleText","productName","titleIcon","description","locationContainer","locationIconContainer","locationIconContainer2","locationIcon","rightIcon","priceContainer","priceText","productPrice","isAvailable"],"sources":["C:/Users/DANIALSYED/OneDrive/Documents/GitHub/PriceGetterNative/pages/products/ProductDetails/index.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport {\r\n  View,\r\n  Text,\r\n  StatusBar,\r\n  ScrollView,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport { useNavigation, useRoute } from '@react-navigation/native';\r\nimport Entypo from 'react-native-vector-icons/Entypo';\r\nimport Ionicons from 'react-native-vector-icons/Ionicons';\r\nimport asyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nimport styles from './styles';\r\nimport { Items } from '../../../database/Database';\r\nimport { ImageCarousel, BottomButton } from '../../../components';\r\nimport { alert } from '../../../utils';\r\n\r\nconst ProductDetails = () => {\r\n  const { id } = useRoute().params;\r\n  const navigation = useNavigation();\r\n\r\n  const [product, setProduct] = useState({});\r\n\r\n  const addToCart = async id => {\r\n    try {\r\n      const cartString = await asyncStorage.getItem('cart');\r\n      const cart = JSON.parse(cartString || '[]');\r\n\r\n      await asyncStorage.setItem(\r\n        'cart',\r\n        JSON.stringify([...new Set([...cart, id])])\r\n      );\r\n\r\n      // alert('Success', 'Product added to cart.');\r\n\r\n      navigation.navigate('Cart');\r\n    } catch (err) {\r\n      console.log(err);\r\n      alert('Error', 'Could not add to cart.');\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    navigation.addListener('focus', () =>\r\n      setProduct(Items.find(item => item.id === id))\r\n    );\r\n  }, [navigation]);\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <StatusBar style={styles.statusBar} />\r\n      <ScrollView showsVerticalScrollIndicator={false}>\r\n        <ImageCarousel items={product?.productImageList} />\r\n        <View style={styles.scrollViewContainer}>\r\n          <View style={styles.cartContainer}>\r\n            <Entypo style={styles.cartIcon} name=\"shopping-cart\" />\r\n            <Text style={styles.cartText}>Shopping</Text>\r\n          </View>\r\n\r\n          <View style={styles.title}>\r\n            <Text style={styles.titleText}>{product?.productName}</Text>\r\n            <Ionicons style={styles.titleIcon} name=\"link-outline\" />\r\n          </View>\r\n\r\n          <Text style={styles.description}>{product?.description}</Text>\r\n\r\n          <View style={styles.locationContainer}>\r\n            <View style={styles.locationIconContainer}>\r\n              <View style={styles.locationIconContainer2}>\r\n                <Entypo style={styles.locationIcon} name=\"location-pin\" />\r\n              </View>\r\n              <Text>Rustaveli Ave 57,{'\\n'}17-001, Batume</Text>\r\n            </View>\r\n            <Entypo style={styles.rightIcon} name=\"chevron-right\" />\r\n          </View>\r\n\r\n          <View style={styles.priceContainer}>\r\n            <Text style={styles.priceText}>Rs. {product.productPrice}</Text>\r\n          </View>\r\n        </View>\r\n      </ScrollView>\r\n\r\n      <BottomButton\r\n        onPress={() => (product.isAvailable ? addToCart(product.id) : null)}\r\n        text={product.isAvailable ? 'Add to cart' : 'Not Avialable'}\r\n      />\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default ProductDetails;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}